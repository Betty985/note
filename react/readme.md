# 笔记

## 组件基础

### 对react的理解

破题：**概念、用途、核心思路或运行流程、优缺点**

#### 概念

react诞生于jq、angular、backbone相继流行的时代。jq诞生于2005年，为了解决**浏览器兼容性**这个当时最大的问题，jq封装dom 操作，提供样式选择器，封装了ajax、链式操作等大量基础函数。但是jq**不能解决代码如何组织**的问题，甚至不能称之为框架，本质上只是一个工具函数集合。

随着PC性能越来越好，页面越来越复杂，**如何组织代码结构，有效提升复用率**成为了亟待解决的问题。2009年，angular带着java开发的先进经验来到前端世界，像spring boot一样提供了一揽子解决方案。angular的分层设计齐全而优秀，覆盖了web开发的方方面面，如MVC、数据绑定、前端路由、表单校验、设计模式等。jq时代和angular时代的一个明显区别是jq时代的难点在于浏览器，而angular时代的难点在它本身。虽然代码组织清晰，双向绑定极大提升了中后台网站的开发效率，但angular**无穷无尽的概念**让它看起来更像一个java框架。

2010年，backbone成为了一个很好的选择。

- 它的学习和改造成本低，大量的jq存量项目都可以尝试迁移，具有与前代的亲和性。

- 它考虑到了代码的组织性，引入了基础的MVC概念，提供集合与前端路由的封装，补齐了jq无序的短板。

前端项目在不断向工程化发展，但是仍有两个问题难以解决：

- 前端主要以UI组件为基础，需要一个可以使组件复用的开发方案，过去常见的复用方案是拼装模板。
- 组件作为基本单位应该是可以通过编写单元测试来维持稳定性的。过去通常从页面的维度思考，装上各种jq小插件。

在react中只要关心两件事：数据和组件。react给定相同的输入状态会生成一致的组件。只有输入和输出是恒定的，它才是可测的。“组合优于继承”，在构建UI视图时，组合组件始终是最优的解决方案。react通过组件化的方式解决视图层开发复用的问题。

#### 用途

react的用途是**构建视图**。因为react采用了虚拟dom，在适用场景上远比传统框架更为广泛。

- 支持PC和移动端网页；
- 可以用react native开发iOS和Android应用；
- react360可以开发VR应用
- 可以开发命令行应用

**react生态极大丰富了其使用场景**。

#### 核心思路

react的核心思路是声明式、组件化与通用性（一次学习，随处编写）

##### 声明式

声明式编程的优点是直观，一目了然，也便于组合。

##### 组件化

组件化的优势在于视图的拆分与模块复用，更容易使系统的功能低耦合高内聚。react组件化没有使用模板进行编写而是采用了声明式的jsx。

##### 通用性

只要可以兼容虚拟dom就能直接运行react。

#### 优缺点

优点：声明式、组件化和通用性

缺点：react只是js库，路由和状态管理等功能，react团队更希望交给社区解决。所以在技术选型和学习选择使用上有较高成本。

#### 总结

react是用于构建用户界面的 JavaScript 库，通过组件化方式解决视图层开发复用的问题。核心设计思路有声明式、组件化和通用性。这也是react的优点，缺点是它需要向社区寻找并整合解决方案。

### 为什么react要使用jsx？

破题：一句话解释、核心概念、方案对比

#### 解释

jsx是一个JavaScript的语法扩展，类似于XMl。

#### 核心概念

每个 JSX 元素只是调用 `React.createElement(component, props, ...children)` 的语法糖。在运行时会使用babel插件将jsx语法的代码还原为`React.createElement`的代码。因此，使用 JSX 可以完成的任何事情都可以通过纯 JavaScript 完成。但是使用jsx可以使代码变得更为简洁，层次更清晰，可读性强。

#### 方案对比

react的设计初衷是关注点分离，希望通过合理的关注点保持组件开发的纯粹性。在react中关注点的基本单位是组件，单个组件是高内聚的，组件之间耦合度很低。

> 关注点分离在计算机科学中，是将代码分割为不同部分的设计原则，是面向对象的程序设计的核心概念。其中每一部分会有各自的关注焦点。
>
> 关注点分离的价值在于简化程序的开发和维护。当关注点分开时，各部分可以重复使用，以及独立开发和更新。具有特殊价值的是能够稍后改进或修改一段代码，而无须知道其他部分的细节必须对这些部分进行相应的更改。

其他技术方案分别是模板、模板字符串和JXON。

##### 模板

**弱关注分离、引入概念多。**

react认为引入模板是一种不佳的实现，因为非关注点的模板引入了更多了概念。

##### 模板字符串

**结构描述复杂，语法提示差。**

多次内部嵌套使代码结构复杂，开发工具的代码提示困难。

##### JXON

**语法提示差。**

大括号不能为元素在树中开始和结束，提供很好的代码提示。

# TODO

babel 怎么实现从jsx到js的编译。
